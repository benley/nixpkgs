{ stdenv, fetchurl, ... } @ args:

import ./generic.nix (args // rec {
  version = "4.2-samus";
  modDirVersion = "4.2.0";
  extraMeta.branch = "4.2";

  src = /home/benley/Downloads/linux-4.2-samus.tar.xz;

  features.iwlwifi = true;
  features.efiBootStub = true;
  features.needsCifsUtils = true;
  features.canDisableNetfilterConntrackHelpers = true;
  features.netfilterRPFilter = true;

  extraConfig = ''
    LEDS_PCA9685 n
    SND_SOC_AC97_CODEC n
    #SND_SOC_AC97_BUS n
    #SND_SPEAR_SOC n
    #SND_DMAENGINE_PCM n
    #SND_SOC_GENERIC_DMAENGINE_PCM n
    SND_SOC_SIRF_AUDIO_CODEC n
    SND_SOC_FSL_ASRC n
    SND_SOC_FSL_SAI n

    SND_SOC_FSL_ASRC n
    SND_SOC_FSL_SAI n
    SND_SOC_FSL_SSI n
    SND_SOC_FSL_SPDIF n
    SND_SOC_FSL_ESAI n
    SND_SOC_IMX_AUDMUX n
    SND_ATMEL_SOC n
    SND_DESIGNWARE_I2S n
    SND_SOC_INTEL_BYT_MAX98090_MACH n
    SND_SOC_ADAU1701 n
    SND_SOC_AK4104 n
    SND_SOC_AK4554 n
    SND_SOC_AK4642 n
    SND_SOC_AK5386 n
    SND_SOC_CS35L32 n
    SND_SOC_CS42L51_I2C n
    SND_SOC_CS42L52 n
    SND_SOC_CS42L56 n
    SND_SOC_CS42L73 n
    SND_SOC_CS4265 n
    SND_SOC_CS4270 n
    SND_SOC_CS4271_I2C n
    SND_SOC_CS4271_SPI n
    SND_SOC_CS42XX8_I2C n
    SND_SOC_ES8328 n
    SND_SOC_PCM1681 n
    SND_SOC_PCM1792A n
    SND_SOC_PCM512x_I2C n
    SND_SOC_PCM512x_SPI n
    SND_SOC_SGTL5000 n
    SND_SOC_SIRF_AUDIO_CODEC n
    SND_SOC_SSM2602_SPI n
    SND_SOC_SSM2602_I2C n
    SND_SOC_SSM4567 n
    SND_SOC_STA32X n
    SND_SOC_STA350 n
    SND_SOC_TAS2552 n
    SND_SOC_TAS5086 n
    SND_SOC_TAS571X n
    SND_SOC_TFA9879 n
    SND_SOC_TLV320AIC23_I2C n
    SND_SOC_TLV320AIC23_SPI n
    SND_SOC_TLV320AIC31XX n
    SND_SOC_TLV320AIC3X n
    SND_SOC_TS3A227E n
    SND_SOC_WM8510 n
    SND_SOC_WM8523 n
    SND_SOC_WM8580 n
    SND_SOC_WM8711 n
    SND_SOC_WM8728 n
    SND_SOC_WM8731 n
    SND_SOC_WM8737 n
    SND_SOC_WM8741 n
    SND_SOC_WM8750 n
    SND_SOC_WM8753 n
    SND_SOC_WM8770 n
    SND_SOC_WM8776 n
    SND_SOC_WM8804_I2C n
    SND_SOC_WM8804_SPI n
    SND_SOC_WM8903 n
    SND_SOC_WM8962 n
    SND_SOC_WM8978 n
    SND_SOC_TPA6130A2 n
    SND_SIMPLE_CARD n
    SOUND_PRIME n

    SND_USB_UA101 n
    SND_USB_USX2Y n
    SND_USB_US122L n
    SND_USB_6FIRE n
    SND_USB_HIFACE n
    SND_BCD2000 n
    #SND_USB_LINE6 n
    SND_USB_POD n
    SND_USB_PODHD n
    SND_USB_TONEPORT n
    SND_USB_VARIAX n
    #SND_FIREWIRE n
    #SND_FIREWIRE_LIB n
    SND_DICE n
    SND_OXFW n
    SND_ISIGHT n
    SND_SCS1X n
    SND_FIREWORKS n
    SND_BEBOB n
    SND_PCMCIA n
    #SND_VXPOCKET n
    #SND_PDAUDIOCF n

    SOUND_OSS_CORE_PRECLAIM n
    SND_SEQ_DUMMY n
    SND_SEQ_HRTIMER_DEFAULT n
    SND_SUPPORT_OLD_API n
    SND_VERBOSE_PROCFS n
    SND_OPL3_LIB_SEQ n
    SND_EMU10K1_SEQ n
    SND_DRIVERS n
    #SND_OPL3_LIB n
    #SND_VX_LIB n
    SND_DRIVERS n
    #SND_PCSP n
    #SND_DUMMY n
    #SND_ALOOP n
    #SND_VIRMIDI n
    #SND_MTPAV n
    #SND_MTS64 n
    #SND_SERIAL_U16550 n
    #SND_MPU401 n
    #SND_PORTMAN2X4 n
    #SND_AC97_CODEC n
    #SND_AC97_POWER_SAVE n
    #SND_AC97_POWER_SAVE_DEFAULT n
    #SND_SB_COMMON n
    SND_AD1889 n
    SND_ALS300 n
    SND_ALS4000 n
    SND_ALI5451 n
    SND_ASIHPI n
    SND_ATIIXP n
    SND_ATIIXP_MODEM n
    SND_AU8810 n
    SND_AU8820 n
    SND_AU8830 n
    SND_AW2 n
    SND_AZT3328 n
    SND_BT87X n
    SND_CA0106 n
    SND_CMIPCI n
    #SND_OXYGEN_LIB n
    SND_OXYGEN n
    SND_CS4281 n
    SND_CS46XX n
    #SND_CS46XX_NEW_DSP n
    SND_CTXFI n
    SND_DARLA20 n
    SND_GINA20 n
    SND_LAYLA20 n
    SND_DARLA24 n
    SND_GINA24 n
    SND_LAYLA24 n
    SND_MONA n
    SND_MIA n
    SND_ECHO3G n
    SND_INDIGO n
    SND_INDIGOIO n
    SND_INDIGODJ n
    SND_INDIGOIOX n
    SND_INDIGODJX n
    SND_EMU10K1 n
    SND_EMU10K1X n
    SND_ENS1370 n
    SND_ENS1371 n
    SND_ES1938 n
    SND_ES1968 n
    SND_FM801 n
    SND_HDSP n
    SND_HDSPM n
    SND_ICE1712 n
    SND_ICE1724 n
    SND_INTEL8X0 n
    SND_INTEL8X0M n
    SND_KORG1212 n
    SND_LOLA n
    SND_LX6464ES n
    SND_MAESTRO3 n
    SND_MIXART n
    SND_NM256 n
    SND_PCXHR n
    SND_RIPTIDE n
    SND_RME32 n
    SND_RME96 n
    SND_RME9652 n
    SND_SONICVIBES n
    SND_TRIDENT n
    SND_VIA82XX n
    SND_VIA82XX_MODEM n
    SND_VIRTUOSO n
    SND_VX222 n
    SND_YMFPCI n

    #SND_MPU401_UART n
    SND_SE6X n

    SND_HDA_RECONFIG y
    SND_HDA_INPUT_BEEP n
    SND_HDA_CODEC_ANALOG n
    SND_HDA_CODEC_SIGMATEL n
    SND_HDA_CODEC_VIA n
    SND_HDA_CODEC_CIRRUS n
    SND_HDA_CODEC_CONEXANT n
    SND_HDA_CODEC_CA0110 n
    SND_HDA_CODEC_CA0132 n
    SND_HDA_CODEC_CMEDIA n
    SND_HDA_CODEC_SI3054 n

    SND_SOC_INTEL_HASWELL m
    SND_SOC_INTEL_BAYTRAIL m
    SND_SOC_INTEL_HASWELL_MACH m
    SND_SOC_INTEL_BYT_RT5640_MACH m
    SND_SOC_INTEL_BROADWELL_MACH m
    SND_SOC_INTEL_BDW_RT5677_MACH m
    SND_SOC_RL6231 m
    SND_SOC_RL6347A m
    SND_SOC_RT286 m
    SND_SOC_RT5640 m
    SND_SOC_RT5677 m
    SND_SOC_RT5677_SPI m

    HID_BATTERY_STRENGTH y

    ARCH_WANT_OPTIONAL_GPIOLIB y
    GPIOLIB y
    GPIO_DEVRES y
    GPIO_ACPI y
    GPIOLIB_IRQCHIP y

    #CONFIG_SCHED_AUTOGROUP y
    EXPERT y
    #PCI_QUIRKS n
    HAVE_CLK y
    BLK_CMDLINE_PARSER y
    CMDLINE_PARTITION y
    X86_INTEL_LPSS y
    MCORE2 y
    GENERIC_CPU n
    X86_INTEL_USERCOPY y
    X86_USE_PPRO_CHECKSUM y
    X86_P6_NOP y
    PROCESSOR_SELECT y
    CPU_SUP_INTEL y
    CPU_SUP_AMD n
    CPU_SUP_CENTAUR n
    X86_REROUTE_FOR_BROKEN_BOOT_IRQS n
    X86_MCE_AMD n
    X86_MCE_INJECT n
    I8K n
    AMD_NUMA n
    CLEANCACHE y
    FRONTSWAP y
    PM_WAKELOCKS y
    PM_WAKELOCKS_LIMIT 100
    PM_WAKELOCKS_GC y
    X86_EXTENDED_PLATFORM n
    CALGARY_IOMMU n
    NR_CPUS 8
    WQ_POWER_EFFICIENT_DEFAULT y
    ACPI_INITRD_TABLE_OVERRIDE y
    ACPI_APEI y
    ACPI_APEI_GHES y
    ACPI_APEI_PCIEAER y
    ACPI_APEI_EINJ m
    ACPI_APEI_ERST_DEBUG m
    SFI y
    CPU_FREQ_DEFAULT_GOV_PERFORMANCE n
    CPU_FREQ_DEFAULT_GOV_ONDEMAND y
    CPU_FREQ_GOV_ONDEMAND y
  '';
} // (args.argsOverride or {}))
